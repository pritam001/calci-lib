branches:
  only:
    - master
    - semantic-release-integration
    - modulo

jobs:
  include:
    - stage: release
      node_js: lts/*
      install:
        - travis_retry npm install
      before-script:
        - npm prune
      script:
        - npm run test
      after-success:
        - npm run semantic-release